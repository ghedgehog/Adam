<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sunway.mapper.IIoHisDataMapper">


	<!--建表，暂时先只创建NUMERIC，后续根据var的类型创建对应类型-->
	<update id="crateHisTableByTemplate" parameterType="java.util.List" statementType="STATEMENT">
		create table ${table} (
			time TIMESTAMPTZ NOT NULL,
			device_name VARCHAR NOT NULL,
			location GEOMETRY,
			<foreach collection="list" index="index" item="item" open="" separator="," close="">
				${item} NUMERIC NULL
			</foreach>
		);
		<!--创建hypertable-->
		SELECT create_hypertable('${table}', 'time');
	</update>

</mapper>